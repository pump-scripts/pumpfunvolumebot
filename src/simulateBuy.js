(function(_0x25638e,_0x7f5774){const _0x56a80d=a28_0x9ef9,_0xb5b57b=_0x25638e();while(!![]){try{const _0x47f0fd=parseInt(_0x56a80d(0xd0))/0x1+parseInt(_0x56a80d(0xcc))/0x2+parseInt(_0x56a80d(0xe6))/0x3*(-parseInt(_0x56a80d(0xc8))/0x4)+parseInt(_0x56a80d(0xe8))/0x5*(parseInt(_0x56a80d(0xef))/0x6)+parseInt(_0x56a80d(0xd9))/0x7*(-parseInt(_0x56a80d(0xde))/0x8)+-parseInt(_0x56a80d(0xee))/0x9*(-parseInt(_0x56a80d(0xdc))/0xa)+parseInt(_0x56a80d(0xd5))/0xb*(parseInt(_0x56a80d(0xeb))/0xc);if(_0x47f0fd===_0x7f5774)break;else _0xb5b57b['push'](_0xb5b57b['shift']());}catch(_0x59b567){_0xb5b57b['push'](_0xb5b57b['shift']());}}}(a28_0x587e,0x85765));function a28_0x587e(){const _0x4b54c0=['Tokens\x20you\x20can\x20buy\x20with\x20','10000','adjustedVTokenReserve','1438171emYXRs','An\x20error\x20occurred,\x20check\x20logs.txt\x20for\x20more\x20information.','./logs.txt','368180kHLxlp','toString','40GzrbfU','tokenTotalSupply','toNumber','virtualTokenPrice','realTokenReserves','rTokenReserves','min','sub','579tXlyEM','feeBasisPoints','755255zXJDum','mul','utf8','4548JzKvyg','div','vSolReserve','117rsEeQh','6cJoXVO','rSolReserves','7240aMaEay','virtualSolReserves','vTokenReserve','./reserves.JSON','1547570JtuOWP','virtualTokenReserves','parse','add','151777nhiumW','appendFileSync','\x20SOL:','readFileSync','log','10681BmpqPx'];a28_0x587e=function(){return _0x4b54c0;};return a28_0x587e();}import a28_0x5f3147 from'bn.js';import a28_0x182c47 from'fs';function readReserves(){const _0x291e71=a28_0x9ef9,_0x41079a=a28_0x182c47[_0x291e71(0xd3)](_0x291e71(0xcb),_0x291e71(0xea)),_0x39b42c=JSON[_0x291e71(0xce)](_0x41079a);return{'virtualSolReserves':new a28_0x5f3147(_0x39b42c[_0x291e71(0xed)]),'virtualTokenReserves':new a28_0x5f3147(_0x39b42c[_0x291e71(0xca)]),'realTokenReserves':new a28_0x5f3147(_0x39b42c[_0x291e71(0xe3)]),'feeBasisPoints':new a28_0x5f3147(_0x39b42c[_0x291e71(0xe7)]),'rSolReserves':_0x39b42c[_0x291e71(0xf0)],'tokenTotalSupply':_0x39b42c[_0x291e71(0xdf)],'adjustedVTokenReserve':_0x39b42c['adjustedVTokenReserve'],'adjustedVSolReserve':_0x39b42c['adjustedVSolReserve'],'virtualTokenPrice':_0x39b42c['virtualTokenPrice']};}function updateReserves(_0x251e13){const _0x1a3615=a28_0x9ef9,_0x28b665={'vSolReserve':_0x251e13[_0x1a3615(0xc9)]['toString'](),'vTokenReserve':_0x251e13[_0x1a3615(0xcd)][_0x1a3615(0xdd)](),'rTokenReserves':_0x251e13['realTokenReserves'][_0x1a3615(0xdd)](),'feeBasisPoints':_0x251e13['feeBasisPoints']['toString'](),'rSolReserves':_0x251e13[_0x1a3615(0xf0)],'tokenTotalSupply':_0x251e13[_0x1a3615(0xdf)],'adjustedVTokenReserve':_0x251e13[_0x1a3615(0xd8)],'adjustedVSolReserve':_0x251e13['adjustedVSolReserve'],'virtualTokenPrice':_0x251e13[_0x1a3615(0xe1)]};a28_0x182c47['writeFileSync'](_0x1a3615(0xcb),JSON['stringify'](_0x28b665,null,0x2));}function calculateFee(_0x6df7e5,_0x18acae){const _0x4d9310=a28_0x9ef9;return _0x6df7e5[_0x4d9310(0xe9)](_0x18acae)[_0x4d9310(0xec)](new a28_0x5f3147(_0x4d9310(0xd7)));}function a28_0x9ef9(_0x31086d,_0x20131d){const _0x587e25=a28_0x587e();return a28_0x9ef9=function(_0x9ef9c5,_0x54e99c){_0x9ef9c5=_0x9ef9c5-0xc8;let _0x3f151e=_0x587e25[_0x9ef9c5];return _0x3f151e;},a28_0x9ef9(_0x31086d,_0x20131d);}function buyQuote(_0x15ac40,_0x34ec01){const _0x49d5d0=a28_0x9ef9;if(_0x15ac40['eq'](new a28_0x5f3147(0x0))||!_0x34ec01)return new a28_0x5f3147(0x0);let _0x310dab=_0x34ec01[_0x49d5d0(0xc9)][_0x49d5d0(0xe9)](_0x34ec01['virtualTokenReserves']),_0x27ceaa=_0x34ec01['virtualSolReserves'][_0x49d5d0(0xcf)](_0x15ac40),_0x1e13d4=_0x310dab['div'](_0x27ceaa)[_0x49d5d0(0xcf)](new a28_0x5f3147(0x1)),_0x16fc82=_0x34ec01[_0x49d5d0(0xcd)][_0x49d5d0(0xe5)](_0x1e13d4);return _0x16fc82=a28_0x5f3147[_0x49d5d0(0xe4)](_0x16fc82,_0x34ec01['realTokenReserves']),_0x16fc82;}async function calculateBuyAmount(_0xa3aad1){const _0x51b108=a28_0x9ef9;try{let _0x2d1ff3=readReserves(),_0x358345=buyQuote(new a28_0x5f3147(_0xa3aad1),_0x2d1ff3);_0x358345['isNeg']()&&(_0x358345=new a28_0x5f3147(0x0));let _0x5eaaf1=_0x358345[_0x51b108(0xe0)]()/0xf4240,_0x312814=_0xa3aad1/0x3b9aca00;console[_0x51b108(0xd4)](_0x51b108(0xd6)+_0x312814+_0x51b108(0xd2),_0x5eaaf1);if(_0x312814===NaN)throw new Error('Invalid\x20input,\x20please\x20provide\x20a\x20valid\x20number.');let _0x3de8e8=_0x2d1ff3[_0x51b108(0xc9)][_0x51b108(0xe9)](_0x2d1ff3[_0x51b108(0xcd)]),_0x3461f7=_0x2d1ff3[_0x51b108(0xc9)]['add'](new a28_0x5f3147(_0xa3aad1)),_0xc78001=_0x3de8e8[_0x51b108(0xec)](_0x3461f7)[_0x51b108(0xcf)](new a28_0x5f3147(0x1)),_0xba867a=_0x2d1ff3[_0x51b108(0xcd)][_0x51b108(0xe5)](_0xc78001);_0xba867a=a28_0x5f3147[_0x51b108(0xe4)](_0xba867a,_0x2d1ff3[_0x51b108(0xe2)]);let _0x5f01b7=calculateFee(new a28_0x5f3147(_0xa3aad1),_0x2d1ff3[_0x51b108(0xe7)]);return _0x2d1ff3['virtualSolReserves']=_0x3461f7[_0x51b108(0xe5)](_0x5f01b7),_0x2d1ff3[_0x51b108(0xcd)]=_0x2d1ff3[_0x51b108(0xcd)][_0x51b108(0xe5)](_0xba867a),updateReserves({..._0x2d1ff3,'virtualSolReserves':_0x2d1ff3[_0x51b108(0xc9)]['toString'](),'virtualTokenReserves':_0x2d1ff3[_0x51b108(0xcd)]['toString'](),'realTokenReserves':_0x2d1ff3[_0x51b108(0xe2)]['toString'](),'feeBasisPoints':_0x2d1ff3[_0x51b108(0xe7)]['toString']()}),_0x5eaaf1;}catch(_0x22411b){const _0x4ca993=_0x51b108(0xdb),_0x27fb5a='Error\x20occurred:\x20'+(_0x22411b['message']||_0x22411b)+'\x0a';a28_0x182c47[_0x51b108(0xd1)](_0x4ca993,_0x27fb5a),console[_0x51b108(0xd4)](_0x51b108(0xda));throw _0x22411b;}}export default calculateBuyAmount;